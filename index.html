<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>건강검진 결과 보안 프로그램</title>
<style>
  body {
    margin: 0;
    font-family: 'Malgun Gothic', sans-serif;
    background: black;
    color: #00ff99;
    overflow-x: hidden;
    overflow-y: auto;
    text-align: center;
    min-height: 100vh;
  }

  canvas {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    z-index: -1;
    background: black;
    transition: opacity 2s ease;
  }

  /* 언어 선택 영역 */
  #languageSelect {
    position: fixed;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 10px;
    font-size: 0.9rem;
    z-index: 100;
  }
  .langBtn {
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 4px;
    color: #00ff99;
    text-shadow: 0 0 5px #00ff99;
  }
  .langBtn img {
    width: 18px;
    height: 12px;
    object-fit: cover;
  }

  #languageOverlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.95);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    gap: 20px;
    z-index: 200;
  }
  .langChoice {
    font-size: 1.3rem;
    color: #00ff99;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    text-shadow: 0 0 10px #00ff99;
  }
  .langChoice img {
    width: 24px;
    height: 16px;
  }

  /* 기존 코드 영역 */
  #intro {
    font-size: 1.3rem;
    color: #00ff99;
    text-shadow: 0 0 10px #00ff99;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
  }

  .container {
    background-color: rgba(0, 0, 0, 0.8);
    padding: 20px;
    border-radius: 10px;
    max-width: 800px;
    margin: 40px auto;
    border: 2px solid #00a000;
    box-shadow: 0 0 18px #00e000;
    display: none;
  }

  h1, p { text-shadow: 0 0 5px #00ff99; margin: 10px 0; }

  #instruction {
    font-size: 1.1rem;
    margin-bottom: 10px;
    color: #00ff99;
    display: none;
    text-shadow: 0 0 10px #00ff99;
    animation: blink 1.5s infinite alternate;
  }
  @keyframes blink { from { opacity: 1; } to { opacity: 0.6; } }

  /* ... 이하 기존 CSS 그대로 유지 ... */
  #sudokuGrid { margin:20px auto; display:grid; grid-template-columns:repeat(9,1fr); width:min(90vw,380px); aspect-ratio:1/1; border:3px solid #00ff99; box-sizing:border-box; }
  .cell { border:1px solid #007000; font-weight:bold; font-size:clamp(14px,2.5vw,20px); color:#00e000; background-color:rgba(0,0,0,0.9); display:flex; justify-content:center; align-items:center; transition:background-color 0.4s,box-shadow 0.4s; box-sizing:border-box; }
  .cell input { width:100%; height:100%; font-size:clamp(14px,3vw,20px); text-align:center; border:none; outline:none; background:transparent; color:#00ff99; }
  .cell:nth-child(9n+1) { border-left: 2px solid #00ff99; }
  .cell:nth-child(-n+9) { border-top: 2px solid #00ff99; }
  .cell:nth-child(9n) { border-right: 2px solid #00ff99; }
  .cell:nth-child(n+73) { border-bottom: 2px solid #00ff99; }
  .cell:nth-child(n+19):nth-child(-n+27), .cell:nth-child(n+46):nth-child(-n+54) { border-bottom: 2px solid #00ff99; }
  .prefilled { color:#00aa00; }
  .correct-block { background-color: rgba(0,255,100,0.15)!important; box-shadow: 0 0 10px #00ff99 inset; }
  .correct-cell { background-color: rgba(0,255,150,0.35)!important; box-shadow:0 0 15px #00ff99 inset; }
  .wrong { color:#ff4444!important; text-shadow:0 0 8px #ff0000; }
  #message { min-height:20px; margin-top:10px; font-weight:bold; }
  #codeSection { display:none; opacity:0; transition: opacity 1s ease; }
  #codeSection.show { display:block; opacity:1; }
  #codeInput { width:150px; padding:8px; margin-top:10px; font-size:18px; text-align:center; border:2px solid #00a000; border-radius:5px; background-color:#000; color:#00ff99; box-shadow:0 0 10px #00e000; }
  #verifyBtn { display:block; margin:10px auto 0; font-size:18px; padding:7px 15px; cursor:pointer; background:#008000; color:white; border:1px solid #00a000; border-radius:5px; box-shadow:0 0 10px #00e000; }
  #verifyBtn:hover { background:#00c000; }
  #imagesSection { margin-top:30px; display:none; justify-content:center; gap:15px; flex-wrap:wrap; }
  #imagesSection img { width:45%; border-radius:10px; box-shadow:0 0 15px #00ff99; cursor:pointer; transition:transform 0.3s; }
  #imagesSection img:hover { transform: scale(1.05); }
  #overlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); justify-content:center; align-items:center; z-index:9999; flex-direction:column; }
  #overlay img { max-width:90vw; max-height:80vh; border-radius:10px; box-shadow:0 0 20px #00ff99; }
  #closeOverlay { position:absolute; top:15px; right:20px; font-size:28px; font-weight:bold; color:#00ff99; cursor:pointer; text-shadow:0 0 10px #00ff99; }
  @media (max-width:480px) { #sudokuGrid{width:95vw; max-width:360px;} .container{padding:15px; margin:20px auto;} #imagesSection img{width:90%;} #overlay img{max-width:95vw; max-height:75vh;} }
</style>
</head>
<body>
<canvas id="matrix"></canvas>

<!-- 언어 선택 오버레이 -->
<div id="languageOverlay">
  <div class="langChoice" data-lang="ko"><img src="korea.png" /> 한국어</div>
  <div class="langChoice" data-lang="en"><img src="english.png" /> English</div>
</div>

<!-- 상단 언어 선택 버튼 -->
<div id="languageSelect" style="display:none;">
  <div class="langBtn" data-lang="ko"><img src="korea.png" /> 한국어</div>
  <div class="langBtn" data-lang="en"><img src="english.png" /> English</div>
</div>

<!-- 기존 main container -->
<div class="container" id="main">
  <h1>나염라님 환영합니다</h1>
  <p id="instruction">검진 번호를 입력해주세요.</p>
  <div id="sudokuGrid"></div>

  <div id="codeSection">
    <p id="message"></p>
    <input type="text" id="codeInput" maxlength="4" placeholder="검진 번호 입력 (4자리)" />
    <button id="verifyBtn">검진 번호 제출</button>
  </div>
</div>

<div id="imagesSection">
  <img src="https://bagjueun307.github.io/health-check/img1.jpg.png" alt="검진 결과 1">
  <img src="https://bagjueun307.github.io/health-check/img2.jpg.png" alt="검진 결과 2">
</div>

<div id="overlay">
  <span id="closeOverlay">✕</span>
  <img src="" alt="확대이미지">
</div>

<script>
// 현재 선택된 언어 상태
let currentLang = "ko";

// 언어 선택 후 메인 시작
function startMainFlow(){
  document.getElementById("languageOverlay").style.display="none";
  document.getElementById("languageSelect").style.display="flex";

  // 기존 로직 유지
  let matrixRunning = true;
  setTimeout(() => {
    document.getElementById("intro").style.display = "none";
    document.getElementById("main").style.display = "block";
    matrixRunning = false;
    document.getElementById("matrix").style.opacity = "0";
    document.getElementById("instruction").style.display = "block";
  }, 3000);

  // 기존 Sudoku 및 검증, 이미지 로직 그대로 실행
  // ... 여기서 기존 코드 삽입 ...
}

// 언어 선택 클릭
document.querySelectorAll(".langChoice").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    currentLang = btn.dataset.lang;
    // intro 문구 변경 (언어별)
    document.getElementById("intro").textContent = currentLang=="ko" ? "온라인 건강 검진 결과 조회 보안 프로그램" : "Online Health Check Result Security Program";
    startMainFlow();
  });
});

// 상단 언어 변경 클릭
document.querySelectorAll(".langBtn").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    currentLang = btn.dataset.lang;
    // 기존 텍스트만 언어 변경
    document.getElementById("intro").textContent = currentLang=="ko" ? "온라인 건강 검진 결과 조회 보안 프로그램" : "Online Health Check Result Security Program";
    document.querySelector("#main h1").textContent = currentLang=="ko" ? "나염라님 환영합니다" : "Welcome Yeom-ra Na";
    document.getElementById("instruction").textContent = currentLang=="ko" ? "검진 번호를 입력해주세요." : "Please enter your Check-up Code.";
    document.getElementById("codeInput").placeholder = currentLang=="ko" ? "검진 번호 입력 (4자리)" : "Enter Check-up Code (4 digits)";
  });
});
</script>
</body>
</html>
