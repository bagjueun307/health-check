<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>건강검진 결과 보안 프로그램</title>
<style>
  body {
    margin: 0;
    font-family: 'Malgun Gothic', sans-serif;
    background: black;
    color: #00ff99;
    overflow-x: hidden;
    overflow-y: auto;
    text-align: center;
    min-height: 100vh;
  }

  canvas {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    z-index: -1;
    background: black;
    transition: opacity 2s ease;
  }

  #intro {
    font-size: 1.3rem;
    color: #00ff99;
    text-shadow: 0 0 10px #00ff99;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
  }

  .container {
    background-color: rgba(0, 0, 0, 0.8);
    padding: 20px;
    border-radius: 10px;
    max-width: 800px;
    margin: 40px auto;
    border: 2px solid #00a000;
    box-shadow: 0 0 18px #00e000;
    display: none;
  }

  h1, p {
    text-shadow: 0 0 5px #00ff99;
    margin: 10px 0;
  }

  #instruction {
    font-size: 1.1rem;
    margin-bottom: 10px;
    color: #00ff99;
    display: none;
    text-shadow: 0 0 10px #00ff99;
    animation: blink 1.5s infinite alternate;
  }
  @keyframes blink {
    from { opacity: 1; }
    to { opacity: 0.6; }
  }

  #sudokuGrid {
    margin: 20px auto;
    display: grid;
    grid-template-columns: repeat(9, 1fr);
    width: min(90vw, 380px);
    aspect-ratio: 1/1;
    border: 3px solid #00ff99;
    box-sizing: border-box;
  }

  .cell {
    border: 1px solid #007000;
    font-weight: bold;
    font-size: clamp(14px, 2.5vw, 20px);
    color: #00e000;
    background-color: rgba(0,0,0,0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    transition: background-color 0.4s, box-shadow 0.4s;
    box-sizing: border-box;
  }

  .cell input {
    width: 100%; height: 100%;
    font-size: clamp(14px, 3vw, 20px);
    text-align: center;
    border: none;
    outline: none;
    background: transparent;
    color: #00ff99;
  }

  .prefilled { color: #00aa00; }

  .correct-block {
    background-color: rgba(0,255,100,0.15) !important;
    box-shadow: 0 0 10px #00ff99 inset;
  }

  .correct-cell {
    background-color: rgba(0,255,150,0.35) !important;
    box-shadow: 0 0 15px #00ff99 inset;
  }

  .wrong {
    color: #ff4444 !important;
    text-shadow: 0 0 8px #ff0000;
  }

  #message {
    min-height: 20px;
    margin-top: 10px;
    font-weight: bold;
  }

  #codeSection {
    display: none;
    opacity: 0;
    transition: opacity 1s ease;
  }

  #codeSection.show {
    display: block;
    opacity: 1;
  }

  #codeInput {
    width: 150px;
    padding: 8px;
    margin-top: 10px;
    font-size: 18px;
    text-align: center;
    border: 2px solid #00a000;
    border-radius: 5px;
    background-color: #000;
    color: #00ff99;
    box-shadow: 0 0 10px #00e000;
  }

  #verifyBtn {
    display: block;
    margin: 10px auto 0;
    font-size: 18px;
    padding: 7px 15px;
    cursor: pointer;
    background: #008000;
    color: white;
    border: 1px solid #00a000;
    border-radius: 5px;
    box-shadow: 0 0 10px #00e000;
  }

  #verifyBtn:hover { background: #00c000; }

  #imagesSection {
    margin-top: 30px;
    display: none;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
  }

  #imagesSection img {
    width: 45%;
    border-radius: 10px;
    box-shadow: 0 0 15px #00ff99;
    cursor: pointer;
    transition: transform 0.3s;
  }
  #imagesSection img:hover { transform: scale(1.05); }

  #overlay {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.95);
    justify-content: center; align-items: center;
    z-index: 9999;
    flex-direction: column;
  }

  #overlay img {
    max-width: 90vw;
    max-height: 80vh;
    border-radius: 10px;
    box-shadow: 0 0 20px #00ff99;
  }

  #closeOverlay {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 28px;
    font-weight: bold;
    color: #00ff99;
    cursor: pointer;
    text-shadow: 0 0 10px #00ff99;
  }

  @media (max-width: 480px) {
    #sudokuGrid { width: 95vw; max-width: 360px; }
    .container { padding: 15px; margin: 20px auto; }
    #imagesSection img { width: 90%; }
    #overlay img { max-width: 95vw; max-height: 75vh; }
  }

  /* ✅ 추가된 언어 스위처 스타일 */
  #langSwitcher {
    position: fixed;
    top: 10px;
    right: 15px;
    display: flex;
    gap: 12px;
    z-index: 9999;
    color: #00ff99;
    font-size: 0.9rem;
    cursor: pointer;
  }
  #langSwitcher span {
    display: flex;
    align-items: center;
    gap: 4px;
  }
  #langSwitcher span:hover {
    opacity: 0.7;
  }
  #langSwitcher .flag {
    width: 16px;
    height: 16px;
    object-fit: cover;
  }
</style>
</head>

<body>

<!-- ✅ 추가된 언어 선택 영역 (원본 코드 앞) -->
<div id="langSwitcher">
  <span data-lang="ko">
    <img src="korea.png" class="flag"> 한국어
  </span>
  <span data-lang="en">
    <img src="english.png" class="flag"> English
  </span>
</div>

<!-- ✅ 여기서부터 원본 코드 (수정 없음) -->
<canvas id="matrix"></canvas>
<div id="intro">온라인 건강 검진 결과 조회 보안 프로그램</div>

<div class="container" id="main">
  <h1>나염라님 환영합니다</h1>
  <p id="instruction">검진 번호를 입력해주세요.</p>
  <div id="sudokuGrid"></div>

  <div id="codeSection">
    <p id="message"></p>
    <input type="text" id="codeInput" maxlength="4" placeholder="검진 번호 입력 (4자리)" />
    <button id="verifyBtn">검진 번호 제출</button>
  </div>
</div>

<div id="imagesSection">
  <img src="https://bagjueun307.github.io/health-check/img1.jpg.png" alt="검진 결과 1">
  <img src="https://bagjueun307.github.io/health-check/img2.jpg.png" alt="검진 결과 2">
</div>

<div id="overlay">
  <span id="closeOverlay">✕</span>
  <img src="" alt="확대이미지">
</div>

<script>
/* ✅ 원본 스크립트 — 절대 수정 없음 */
let matrixRunning = true;
setTimeout(() => {
  document.getElementById("intro").style.display = "none";
  document.getElementById("main").style.display = "block";
  matrixRunning = false;
  document.getElementById("matrix").style.opacity = "0";
  document.getElementById("instruction").style.display = "block";
}, 3000);

const puzzle = [...]
const solution = [...]
... (원본 JS 그대로 전부 유지)
draw();
</script>

<!-- ✅ 추가된 언어 전환 스크립트 -->
<script>
let currentLang = localStorage.getItem("lang") || "ko";

const langText = {
  ko: {
    intro: "온라인 건강 검진 결과 조회 보안 프로그램",
    welcome: "나염라님 환영합니다",
    instruction: "검진 번호를 입력해주세요.",
    success: "검진 결과 확인 성공!",
    fail: "존재하지 않는 검진 번호입니다."
  },
  en: {
    intro: "Online Medical Check Result Security System",
    welcome: "Welcome, Yeom-ra Na",
    instruction: "Please enter your Check-up Code.",
    success: "Verification Successful!",
    fail: "Invalid Check-up Code."
  }
};

function updateImages() {
  const imgs = document.querySelectorAll("#imagesSection img");
  imgs.forEach(img => {
    const base = img.src.replace("_english", "");
    img.src = (currentLang === "en") ? base.replace(".png", "_english.png") : base;
  });
}

function updateLanguageText() {
  document.getElementById("intro").textContent = langText[currentLang].intro;
  document.querySelector("#main h1").textContent = langText[currentLang].welcome;
  document.getElementById("instruction").textContent = langText[currentLang].instruction;

  const msg = document.getElementById("message");
  if (msg.textContent.includes("성공") || msg.textContent.includes("Successful")) {
    msg.textContent = langText[currentLang].success;
  } else if (msg.textContent.includes("존재") || msg.textContent.includes("Invalid")) {
    msg.textContent = langText[currentLang].fail;
  }

  updateImages();
}

document.querySelectorAll("#langSwitcher span").forEach(btn => {
  btn.addEventListener("click", () => {
    currentLang = btn.dataset.lang;
    localStorage.setItem("lang", currentLang);
    updateLanguageText();
  });
});

updateLanguageText();
</script>

</body>
</html>
